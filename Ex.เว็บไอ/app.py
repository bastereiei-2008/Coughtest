import streamlit as st
import time

# --- 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö ---
st.set_page_config(
    page_title="Cough Check for Kids",
    page_icon="üß∏",
    layout="wide",
    initial_sidebar_state="collapsed" # ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏•‡πà‡∏á
)

# --- 2. State Management ---
if 'page' not in st.session_state: st.session_state.page = 1
if 'symptoms' not in st.session_state: st.session_state.symptoms = []
if 'duration' not in st.session_state: st.session_state.duration = 1

# --- 3. CSS (‡∏ò‡∏µ‡∏°‡πÅ‡∏°‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏î‡πá‡∏Å: ‡πÇ‡∏ó‡∏ô‡∏û‡∏≤‡∏™‡πÄ‡∏ó‡∏• ‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô) ---
def inject_custom_css():
    st.markdown(f"""
    <style>
        /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡∏Ñ‡∏£‡∏µ‡∏°‡∏≠‡πà‡∏≠‡∏ô‡πÜ ‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏≤ */
        .stApp {{ background-color: #FFF9F2; color: #5D5A58; }}
        
        /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏°‡∏∏‡∏°‡∏°‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ü‡∏≠‡∏á‡∏™‡∏ö‡∏π‡πà */
        .css-card {{
            border-radius: 25px;
            padding: 40px;
            background-color: #FFFFFF;
            box-shadow: 0 8px 24px rgba(249, 168, 37, 0.15); /* ‡πÄ‡∏á‡∏≤‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏ô‡∏ß‡∏•‡πÜ */
            margin-bottom: 20px;
            border: 2px solid #FFF0D6;
        }}
        
        /* ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡πÇ‡∏Ñ‡πâ‡∏á‡∏°‡∏ô */
        .stButton>button {{
            border-radius: 50px; /* ‡∏Å‡∏•‡∏°‡∏î‡∏¥‡πä‡∏Å */
            height: 3.5em;
            font-size: 18px;
            font-weight: bold;
            width: 100%;
            border: none;
            background-color: #FFB74D; /* ‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏û‡∏≤‡∏™‡πÄ‡∏ó‡∏• */
            color: white;
            transition: transform 0.2s;
        }}
        .stButton>button:hover {{
            transform: scale(1.05);
            background-color: #FFA726;
        }}
        
        /* ‡πÇ‡∏ã‡∏ô‡∏≠‡∏±‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
        div[data-testid="stAudioInput"] {{
            border: 3px dashed #FFB74D !important;
            background-color: #FFF3E0 !important;
            border-radius: 30px !important;
            padding: 30px !important;
            text-align: center !important;
        }}
        
        /* ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
        h1, h2, h3 {{
            color: #5D4037 !important; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÄ‡∏Ç‡πâ‡∏° */
            font-family: 'Sarabun', sans-serif;
        }}
        
        /* ‡∏ã‡πà‡∏≠‡∏ô Footer */
        footer {{visibility: hidden;}}
        
    </style>
    """, unsafe_allow_html=True)

inject_custom_css()

# --- 4. Mock AI Logic (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡πÅ‡∏ï‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏û‡∏π‡∏î) ---
def mock_prediction(symptoms):
    scores = {"RSV": 10, "‡πÑ‡∏≠‡∏Å‡∏£‡∏ô (Whooping Cough)": 10, "‡∏õ‡∏≠‡∏î‡∏ö‡∏ß‡∏° (Pneumonia)": 10}
    
    if "‡∏°‡∏µ‡πÑ‡∏Ç‡πâ‡∏£‡∏∏‡∏°‡πÜ (‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≥)" in symptoms: scores["RSV"] += 40
    if "‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å‡πÑ‡∏´‡∏• / ‡∏à‡∏≤‡∏°‡∏ö‡πà‡∏≠‡∏¢" in symptoms: scores["RSV"] += 40
    
    if "‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏≠" in symptoms: scores["‡πÑ‡∏≠‡∏Å‡∏£‡∏ô (Whooping Cough)"] += 60
    if "‡∏ï‡∏±‡∏ß‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏µ‡πã (‡πÑ‡∏Ç‡πâ‡∏™‡∏π‡∏á) ‡∏´‡∏ô‡∏≤‡∏ß‡∏™‡∏±‡πà‡∏ô" not in symptoms: scores["‡πÑ‡∏≠‡∏Å‡∏£‡∏ô (Whooping Cough)"] += 20 

    if "‡πÄ‡∏à‡πá‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏≤‡∏¢‡πÉ‡∏à" in symptoms: scores["‡∏õ‡∏≠‡∏î‡∏ö‡∏ß‡∏° (Pneumonia)"] += 40
    if "‡∏ï‡∏±‡∏ß‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏µ‡πã (‡πÑ‡∏Ç‡πâ‡∏™‡∏π‡∏á) ‡∏´‡∏ô‡∏≤‡∏ß‡∏™‡∏±‡πà‡∏ô" in symptoms: scores["‡∏õ‡∏≠‡∏î‡∏ö‡∏ß‡∏° (Pneumonia)"] += 30
    if "‡∏°‡∏µ‡πÄ‡∏™‡∏°‡∏´‡∏∞‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß/‡∏Ñ‡∏•‡πâ‡∏≥" in symptoms: scores["‡∏õ‡∏≠‡∏î‡∏ö‡∏ß‡∏° (Pneumonia)"] += 30

    pred = max(scores, key=scores.get)
    conf = min(scores[pred], 98.5)
    return pred, conf

# --- 5. Navigation ---
def next_page(): st.session_state.page += 1
def prev_page(): st.session_state.page -= 1
def reset(): 
    st.session_state.page = 1
    st.session_state.symptoms = []
    st.session_state.duration = 1

# ==========================================
# PAGE 1: ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (Home)
# ==========================================
if st.session_state.page == 1:
    st.markdown('<div class="css-card">', unsafe_allow_html=True)
    
    # Header ‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÜ
    c1, c2 = st.columns([1, 2])
    with c1:
        # ‡πÉ‡∏™‡πà‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏µ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
        st.write("# üß∏") 
    with c2:
        st.title("‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏•‡∏π‡∏Å‡∏£‡∏±‡∏Å")
        st.subheader("‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà")

    st.write("---")
    
    st.info("üëã **‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà!** ‡πÅ‡∏≠‡∏õ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ä‡πá‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏≠‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á‡πÜ ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ RSV, ‡πÑ‡∏≠‡∏Å‡∏£‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏≠‡∏î‡∏ö‡∏ß‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")
    
    st.markdown("""
    **‚ú® ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏Ñ‡πà 2 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
    1. üé§ ‡∏≠‡∏±‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏≠‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å
    2. üìù ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÜ
    """)
    
    st.write("")
    if st.button("‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏¢ ‚ûî"):
        next_page()
    st.markdown('</div>', unsafe_allow_html=True)

# ==========================================
# PAGE 2: ‡∏≠‡∏±‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Audio)
# ==========================================
elif st.session_state.page == 2:
    st.markdown('<div class="css-card">', unsafe_allow_html=True)
    st.subheader("üé§ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏≠")
    st.write("‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏µ‡πÅ‡∏î‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏ñ‡∏∑‡∏≠‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏Å‡∏•‡πâ‡πÜ ‡∏ô‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ô‡πÑ‡∏≠‡∏ô‡∏∞‡∏Ñ‡∏∞")
    st.write("") 
    
    c_left, c_center, c_right = st.columns([1, 2, 1])
    with c_center:
        st.markdown("‚¨áÔ∏è **‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á** ‚¨áÔ∏è")
        audio = st.audio_input("Record") 
    
    if audio:
        st.write("")
        st.success("‚úÖ ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞")
        st.audio(audio)
        st.markdown("---")
        
        # ‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏õ‡∏ï‡πà‡∏≠
        if st.button("‡πÑ‡∏õ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ô‡∏∞‡∏Ñ‡∏∞ ‚ûî"):
            next_page()
    else:
        st.info("üí° ‡∏£‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏≠‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡∏π‡πÜ ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏∞‡∏Ñ‡∏∞...")
            
    st.write("")
    if st.button("üîô ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å"):
        prev_page()
    st.markdown('</div>', unsafe_allow_html=True)

# ==========================================
# PAGE 3: ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ (Symptoms)
# ==========================================
elif st.session_state.page == 3:
    st.markdown('<div class="css-card">', unsafe_allow_html=True)
    st.subheader("üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á")
    st.write("‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ö‡πâ‡∏≤‡∏á‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞? (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠)")
    
    st.markdown("---")
    
    col1, col2 = st.columns(2)
    with col1:
        st.markdown("**ü§í ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏ß‡∏£‡πâ‡∏≠‡∏ô**")
        s1 = st.checkbox("‡∏°‡∏µ‡πÑ‡∏Ç‡πâ‡∏£‡∏∏‡∏°‡πÜ (‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≥)")
        s2 = st.checkbox("‡∏ï‡∏±‡∏ß‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏µ‡πã (‡πÑ‡∏Ç‡πâ‡∏™‡∏π‡∏á) ‡∏´‡∏ô‡∏≤‡∏ß‡∏™‡∏±‡πà‡∏ô")
        s3 = st.checkbox("‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å‡πÑ‡∏´‡∏• / ‡∏à‡∏≤‡∏°‡∏ö‡πà‡∏≠‡∏¢")
        
    with col2:
        st.markdown("**ü§Æ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÜ**")
        s4 = st.checkbox("‡∏ö‡πà‡∏ô‡πÄ‡∏à‡πá‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏≤‡∏¢‡πÉ‡∏à")
        s5 = st.checkbox("‡∏°‡∏µ‡πÄ‡∏™‡∏°‡∏´‡∏∞‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß/‡∏Ñ‡∏•‡πâ‡∏≥")
        s6 = st.checkbox("‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏≠")

    # ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏≠‡∏≤‡∏Å‡∏≤‡∏£
    current_symptoms = []
    if s1: current_symptoms.append("‡∏°‡∏µ‡πÑ‡∏Ç‡πâ‡∏£‡∏∏‡∏°‡πÜ (‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≥)")
    if s2: current_symptoms.append("‡∏ï‡∏±‡∏ß‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏µ‡πã (‡πÑ‡∏Ç‡πâ‡∏™‡∏π‡∏á) ‡∏´‡∏ô‡∏≤‡∏ß‡∏™‡∏±‡πà‡∏ô")
    if s3: current_symptoms.append("‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å‡πÑ‡∏´‡∏• / ‡∏à‡∏≤‡∏°‡∏ö‡πà‡∏≠‡∏¢")
    if s4: current_symptoms.append("‡πÄ‡∏à‡πá‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏≤‡∏¢‡πÉ‡∏à")
    if s5: current_symptoms.append("‡∏°‡∏µ‡πÄ‡∏™‡∏°‡∏´‡∏∞‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß/‡∏Ñ‡∏•‡πâ‡∏≥")
    if s6: current_symptoms.append("‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏≠")
    st.session_state.symptoms = current_symptoms

    st.write("---")
    st.markdown("**üóìÔ∏è ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ô‡∏≤‡∏ô‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏∞?**")
    st.session_state.duration = st.slider("‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞", 1, 30, 3)
    
    st.write("")
    c1, c2 = st.columns([1, 1])
    with c1: 
        if st.button("üîô ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"): prev_page()
    with c2: 
        if st.button("‡∏î‡∏π‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á üîç"): next_page()
    st.markdown('</div>', unsafe_allow_html=True)

# ==========================================
# PAGE 4: ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Result)
# ==========================================
elif st.session_state.page == 4:
    with st.spinner('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•... ‡∏£‡∏≠‡πÅ‡∏õ‡πä‡∏ö‡∏ô‡∏∂‡∏á‡∏ô‡∏∞‡∏Ñ‡∏∞ üß∏'):
        time.sleep(1.5)
    pred_disease, confidence = mock_prediction(st.session_state.symptoms)
    
    st.markdown('<div class="css-card">', unsafe_allow_html=True)
    st.title("üìÑ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô")
    st.write("---")
    
    col_res1, col_res2 = st.columns([2, 1])
    with col_res1:
        st.markdown(f"### ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô: <span style='color:#FF9800;'>{pred_disease}</span>", unsafe_allow_html=True)
        st.write(f"‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏≠‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á {st.session_state.duration} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤")
        
        st.success("üí° **‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà**")
        if pred_disease == "RSV":
            st.write("- ‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏°‡∏≤‡∏Å‡πÜ")
            st.write("- ‡∏Ñ‡∏≠‡∏¢‡πÄ‡∏ä‡πá‡∏î‡∏ï‡∏±‡∏ß‡∏•‡∏î‡πÑ‡∏Ç‡πâ ‡∏ñ‡πâ‡∏≤‡∏ô‡πâ‡∏≠‡∏á‡∏´‡∏≠‡∏ö‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏µ‡∏ö‡∏û‡∏≤‡πÑ‡∏õ‡∏´‡∏≤‡∏´‡∏°‡∏≠‡∏ô‡∏∞‡∏Ñ‡∏∞")
        elif pred_disease == "‡πÑ‡∏≠‡∏Å‡∏£‡∏ô (Whooping Cough)":
            st.write("- ‡πÇ‡∏£‡∏Ñ‡∏ô‡∏µ‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏¢‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡πá‡∏Å‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô")
            st.write("- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏≤‡πÑ‡∏õ‡∏û‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏¢‡∏≤‡∏Ü‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ô‡∏∞‡∏Ñ‡∏∞")
        else: 
            st.error("‚ö†Ô∏è **‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á:** ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏≠‡∏î‡∏ö‡∏ß‡∏°‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢ ‡∏Ñ‡∏ß‡∏£‡∏û‡∏≤‡πÑ‡∏õ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏õ‡∏≠‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ô‡∏∞‡∏Ñ‡∏∞")

    with col_res2:
        # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ó‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô ‡∏î‡∏≤‡∏ß ‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÜ
        st.markdown("**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö**")
        st.metric(label="", value=f"{confidence}%")
        st.caption("AI ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡πà‡∏∞")

    st.write("---")
    if st.button("üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (‡∏ï‡∏£‡∏ß‡∏à‡πÉ‡∏´‡∏°‡πà)"):
        reset()
    st.markdown('</div>', unsafe_allow_html=True)
